@model ECommerceSystem.Shared.DTOs.Product.ProductDTO
@{
    ViewData["Title"] = "Chỉnh sửa sản phẩm";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}

<h2>Chỉnh sửa sản phẩm</h2>

@if (TempData["Success"] != null)
{
    <div class="alert alert-success alert-dismissible fade show" role="alert">
        @TempData["Success"]
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
}
@if (TempData["Error"] != null)
{
    <div class="alert alert-danger alert-dismissible fade show" role="alert">
        @TempData["Error"]
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
}

<form asp-action="Edit" method="post">
    <input type="hidden" asp-for="Id" />
    <div class="form-group mb-3">
        <label asp-for="Name" class="form-label">Tên sản phẩm</label>
        <input asp-for="Name" class="form-control" placeholder="Nhập tên sản phẩm" />
        <span asp-validation-for="Name" class="text-danger"></span>
    </div>
    <div class="form-group mb-3">
        <label asp-for="Price" class="form-label">Giá (VND)</label>
        <input asp-for="Price" class="form-control" type="number" step="0.01" placeholder="Nhập giá sản phẩm" />
        <span asp-validation-for="Price" class="text-danger"></span>
    </div>
    <div class="form-group mb-3">
        <label asp-for="Description" class="form-label">Mô tả</label>
        <textarea asp-for="Description" class="form-control" rows="4" placeholder="Nhập mô tả sản phẩm"></textarea>
        <span asp-validation-for="Description" class="text-danger"></span>
    </div>
    <div class="form-group mb-3">
        <label asp-for="ThumbnailUrl" class="form-label">Ảnh đại diện (URL)</label>
        <input asp-for="ThumbnailUrl" class="form-control" placeholder="Nhập URL ảnh" />
        <span asp-validation-for="ThumbnailUrl" class="text-danger"></span>
    </div>
    <div class="form-group mb-3">
        <label asp-for="CategoryId" class="form-label">Danh mục</label>
        <select asp-for="CategoryId" class="form-control" asp-items="@(new SelectList(ViewBag.Categories, "Id", "Name"))">
            <option value="">Chọn danh mục</option>
        </select>

        <span asp-validation-for="CategoryId" class="text-danger"></span>
    </div>
    <div class="form-group mb-3">
        <label asp-for="Stock" class="form-label">Số lượng tồn</label>
        <input asp-for="Stock" class="form-control" type="number" placeholder="Nhập số lượng tồn" />
        <span asp-validation-for="Stock" class="text-danger"></span>
    </div>
    <div class="form-group mb-3">
        <label asp-for="Rating" class="form-label">Điểm đánh giá</label>
        <input asp-for="Rating" class="form-control" type="number" step="0.1" min="0" max="5" placeholder="Nhập điểm từ 0 đến 5" />
        <span asp-validation-for="Rating" class="text-danger"></span>
    </div>
    <div class="form-group mb-3">
        <label asp-for="QrCode" class="form-label">Mã QR</label>
        <input asp-for="QrCode" class="form-control" placeholder="Nhập mã QR" />
        <span asp-validation-for="QrCode" class="text-danger"></span>
    </div>
    <div class="form-group mb-3">
        <label asp-for="Slug" class="form-label">Slug</label>
        <input asp-for="Slug" class="form-control" placeholder="Nhập slug (ví dụ: san-pham-1)" />
        <span asp-validation-for="Slug" class="text-danger"></span>
    </div>
    <div class="form-check mb-3">
        <input asp-for="IsPromoted" class="form-check-input" />
        <label asp-for="IsPromoted" class="form-check-label">Khuyến mãi</label>
    </div>
    <div class="d-flex gap-2">
        <button type="submit" class="btn btn-primary"><i class="bi bi-save"></i> Cập nhật</button>
        <a asp-action="Index" class="btn btn-secondary"><i class="bi bi-arrow-left"></i> Quay lại</a>
    </div>
</form>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}